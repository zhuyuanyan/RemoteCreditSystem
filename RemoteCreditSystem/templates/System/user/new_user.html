<!DOCTYPE html>
<html lang="zh-cn">
<head>	
	<meta charset="utf-8">
	<title>远程授信系统</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
	<meta name="author" content="Muhammad Usman">

	<!-- The styles -->
	<link href="../../static/css/bootstrap.css" rel="stylesheet">
	<link href="../../static/css/main.css" rel="stylesheet">
	<link href="../../static/css/alert.css" rel="stylesheet" type="text/css" />
	<script src="../../static/js/jquery-1.7.2.min.js"></script>
	<script src="../../static/js/index.js"></script>
	<!--验证样式-->
	<link rel="stylesheet" href="../../static/css/validationEngine.jquery.css">
	<script src="../../static/js/jquery.validationEngine-zh_CN.js"></script> 
	<script src="../../static/js/jquery.validationEngine.js"></script>
</head>

<body>	
	<div style="margin:15px;">
		<div class="well place">			
			<i class="icon-home"></i><a href="#">系统管理</a>/<a href="#">用户管理</a>/<a href="#">新增</a>
		</div>	
		<div class="row-fluid" >				
			<i class="icon-bookmark"></i><span class="titletip">用户信息</span>
			<form id="form_id" class="form-horizontal" method="POST" action="/System/new_user.json/{{pId}}">
				<div style="border:1px solid #94c1dc;">
					<table class="table-list">
						<tr>
							<td class="table-label">登录名称<font class="red">*</font></td>
							<td width="36%">
								<input type="text" id="login_name" name="login_name" class="validate[required]"/>
							</td>
							<td class="table-label">邮箱地址</td>
							<td width="36%">
								<input type="text" id="email" name="email"/>
							</td>					
						</tr>	
						<tr>
							<td class="table-label">登录密码<font class="red">*</font></td>
							<td>
								<input type="password" name="login_password" id="login_password" class="validate[required]">
							</td>
							<td class="table-label">确认密码<font class="red">*</font></td>
							<td>
								<input type="password" id="login_password2" name="login_password2" class="validate[required,equals[login_password]]"/>
							</td>						
						</tr>
						<tr>
							<td class="table-label">真实姓名<font class="red">*</font></td>
							<td>
								<input type="text" id="real_name" name="real_name" class="validate[required]"/>
							</td>	
							<td class="table-label">性别<font class="red">*</font></td>
							<td>
								<label><input type="radio" name="sex" value="1" checked />男</label>
								<label><input type="radio" name="sex" value="0" />女</label>
							</td>												
						</tr>
						<tr>
							<td class="table-label">电话号码</td>
							<td><input type="text" id="mobile" name="mobile"/></td>
							<td class="table-label">是否激活</td>
							<td>
								<label><input type="radio" name="active" value="1" checked />是</label>
								<label><input type="radio" name="active" value="0"/>否</label>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								{%- for obj in roles %}
									<label><input type="radio" name="roles" value="{{obj.id}}" checked />{{obj.role_name}}</label>
								{%- endfor %}
							</td>
						</tr>					
					</table>
				</div>		
				<span class="point">*为必填字段</span><br/>
				<input id="id_save_button" type="button" value="提交" class="btn btn-info"/>
				<input type="button" value="重置" class="btn btn-info" onclick="window.location.reload()"/>
			</form>
		</div><!--/row-fluid -->
	</div><!--/content -->
	<script type="text/javascript">
		$(document).ready(function(){
			//前端验证
			$('#form_id').validationEngine();
			$("#id_save_button").click(function() {
				if(!submitFlag){
					alert("正在处理，请勿重复提交!");
					return;
				}
				submitFlag = false;
				// 前端验证 
				if($('#form_id').validationEngine('validate')){
					//submit
					$('#form_id').submit();
					submitFlag = true;
				}else{
					submitFlag = true;
				}
			});
		});
	</script>
</body>
</html>
